<!DOCTYPE html>
<html lang="en" class="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Typing Race Game</title>
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta
      name="description"
      content="A modern typing race game to improve your typing speed"
    />
  </head>
  <body class="bg-gray-50 min-h-screen dark:bg-gray-900">
    <div class="container mx-auto p-4 max-w-4xl">
      <!-- Header -->
      <header class="text-center mb-8">
        <h1 class="text-4xl font-bold text-gray-900 dark:text-white mb-2">
          üèéÔ∏è Typing Race
        </h1>
        <p class="text-gray-600 dark:text-gray-400">
          Race against others and improve your typing speed!
        </p>
      </header>

      <!-- Main Game Container -->
      <main class="space-y-6">
        <!-- Game Controls -->
        <div class="flex justify-between items-center">
          <div class="flex items-center space-x-4">
            <select id="difficulty" class="input-field py-2">
              <option value="easy">Easy</option>
              <option value="medium">Medium</option>
              <option value="hard">Hard</option>
            </select>
            <button
              id="theme-toggle"
              class="btn-secondary"
              aria-label="Toggle dark mode"
            >
              üåô
            </button>
            <button
              id="sound-toggle"
              class="btn-secondary"
              aria-label="Toggle sound"
            >
              üîä
            </button>
          </div>
          <div class="flex items-center space-x-2">
            <span id="race-status" class="text-yellow-500 font-medium"
              >Ready</span
            >
            <div id="countdown" class="flex space-x-2">
              <div
                class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"
              ></div>
              <div
                class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"
              ></div>
              <div
                class="w-3 h-3 rounded-full bg-gray-300 dark:bg-gray-600"
              ></div>
            </div>
          </div>
        </div>

        <!-- Game Area -->
        <div class="card p-6">
          <!-- Participants -->
          <div id="participants" class="space-y-3 mb-6">
            <!-- Participants will be added here -->
          </div>

          <!-- Quote Display -->
          <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-4 mb-4">
            <p
              id="quote"
              class="text-lg text-gray-700 dark:text-gray-300 leading-relaxed typing-cursor"
            >
              Loading quote...
            </p>
          </div>

          <!-- Typing Input -->
          <div class="relative">
            <textarea
              id="typing-input"
              class="input-field"
              rows="3"
              placeholder="Type the text here when the race begins..."
              disabled
            ></textarea>
            <div
              class="absolute bottom-2 right-2 text-sm space-x-4 text-gray-600 dark:text-gray-400"
            >
              <span id="wpm">0 WPM</span>
              <span id="accuracy">100% Accuracy</span>
              <span id="level" class="text-gray-500">Beginner</span>
            </div>
          </div>
        </div>

        <!-- Statistics -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <!-- Speed History -->
          <div class="card p-4">
            <h3
              class="text-lg font-semibold mb-4 text-gray-900 dark:text-white"
            >
              Speed History
            </h3>
            <canvas id="speed-history-chart"></canvas>
          </div>

          <!-- Accuracy -->
          <div class="card p-4">
            <h3
              class="text-lg font-semibold mb-4 text-gray-900 dark:text-white"
            >
              Accuracy
            </h3>
            <canvas id="accuracy-chart"></canvas>
          </div>
        </div>

        <!-- Game Controls -->
        <div class="flex justify-between items-center">
          <div id="game-stats" class="text-sm text-gray-600 dark:text-gray-400">
            Best Speed: <span id="best-speed">0 WPM</span>
          </div>
          <button id="start-race" class="btn-primary">
            <div class="flex justify-between items-center">
              <div
                id="game-stats"
                class="text-sm text-gray-600 dark:text-gray-400"
              >
                Best Speed: <span id="best-speed">0 WPM</span>
              </div>
              <button id="start-race" class="btn-primary">Start Race</button>
            </div>
            Start Race
          </button>
        </div>
      </main>

      <!-- Footer -->
      <footer class="mt-8 text-center text-sm text-gray-600 dark:text-gray-400">
        <p>
          Press
          <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded"
            >Ctrl/Cmd + Enter</kbd
          >
          to start a new race
        </p>
        <p class="mt-2">
          Press
          <kbd class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded"
            >Escape</kbd
          >
          to reset
        </p>
      </footer>
    </div>

    <script type="module" src="/src/js/main.js"></script>
  </body>
</html>
